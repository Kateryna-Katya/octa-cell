{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * PROJECT: Octa-Cell (2025)\n * DESCRIPTION: Full Interactive Logic for AI-Blog & Bot Development Platform\n */\n\n// 1. Регистрация плагинов GSAP\ngsap.registerPlugin(ScrollTrigger);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    // --- 2. ИНИЦИАЛИЗАЦИЯ ИКОНОК (LUCIDE) ---\n    const initIcons = () => {\n        if (typeof lucide !== 'undefined') {\n            lucide.createIcons();\n        }\n    };\n    initIcons();\n\n    // --- 3. ПЛАВНЫЙ СКРОЛЛ (LENIS) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smoothWheel: true\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // Интеграция ScrollTrigger с Lenis\n    lenis.on('scroll', ScrollTrigger.update);\n\n    // --- 4. МОБИЛЬНОЕ МЕНЮ ---\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    const toggleMenu = () => {\n        burger.classList.toggle('active');\n        mobileMenu.classList.toggle('active');\n        document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n    };\n\n    if (burger) {\n        burger.addEventListener('click', toggleMenu);\n    }\n\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (mobileMenu.classList.contains('active')) toggleMenu();\n        });\n    });\n\n    // --- 5. АНИМАЦИЯ HERO (GSAP + SPLITTYPE) ---\n    const titleElement = document.querySelector('#hero-title');\n    if (titleElement) {\n        // Настройка SplitType: используем и слова, и символы\n        const text = new SplitType(titleElement, {\n            types: 'words, chars',\n            tagName: 'span'\n        });\n\n        // Анимация появления букв\n        gsap.from(text.chars, {\n            opacity: 0,\n            y: 40,\n            rotateX: -60,\n            stagger: 0.02,\n            duration: 1.2,\n            ease: 'power4.out',\n            delay: 0.5\n        });\n\n        // Анимация подзаголовка и кнопок\n        gsap.from('.hero__subtitle, .hero__actions', {\n            opacity: 0,\n            y: 20,\n            stagger: 0.2,\n            duration: 1,\n            ease: 'power3.out',\n            delay: 1.3\n        });\n    }\n\n    // --- 6. УНИВЕРСАЛЬНАЯ АНИМАЦИЯ ПОЯВЛЕНИЯ СЕКЦИЙ ---\n    // Ищем все секции кроме Hero\n    const animatedSections = gsap.utils.toArray('section:not(#hero)');\n\n    animatedSections.forEach(section => {\n        // Элементы для анимации внутри каждой секции\n        const targets = section.querySelectorAll(\n            '.section-title, .feature-card, .post-card, .section-text, .contact__form-container, .feature-list li, .innovations__wrapper'\n        );\n\n        if (targets.length > 0) {\n            gsap.from(targets, {\n                scrollTrigger: {\n                    trigger: section,\n                    start: 'top 82%', // Порог срабатывания\n                    toggleActions: 'play none none none'\n                },\n                opacity: 0,\n                y: 40,\n                duration: 0.8,\n                stagger: 0.12,\n                ease: 'power2.out',\n                clearProps: 'all' // Удаляет инлайновые стили после завершения (фиксит баги верстки)\n            });\n        }\n    });\n\n    // --- 7. КОНТАКТНАЯ ФОРМА И ВАЛИДАЦИЯ ---\n    const contactForm = document.getElementById('ai-form');\n    const phoneInput = document.getElementById('phone');\n    const captchaLabel = document.getElementById('captcha-question');\n    const captchaInput = document.getElementById('captcha-input');\n    const formStatus = document.getElementById('form-status');\n\n    let captchaAnswer = 0;\n\n    const generateCaptcha = () => {\n        if (!captchaLabel) return;\n        const n1 = Math.floor(Math.random() * 9) + 1;\n        const n2 = Math.floor(Math.random() * 9) + 1;\n        captchaAnswer = n1 + n2;\n        captchaLabel.innerText = `${n1} + ${n2} =`;\n    };\n\n    generateCaptcha();\n\n    // Валидация телефона (только цифры)\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== captchaAnswer) {\n                alert('Ошибка: Решите математический пример правильно!');\n                generateCaptcha();\n                captchaInput.value = '';\n                return;\n            }\n\n            // Имитация AJAX-отправки\n            const submitBtn = contactForm.querySelector('button');\n            const originalText = submitBtn.innerText;\n\n            submitBtn.disabled = true;\n            submitBtn.innerText = 'Отправка данных...';\n\n            setTimeout(() => {\n                contactForm.reset();\n                generateCaptcha();\n\n                submitBtn.disabled = false;\n                submitBtn.innerText = originalText;\n\n                formStatus.innerText = 'Заявка успешно отправлена! Мы свяжемся с вами скоро.';\n                formStatus.classList.add('success');\n                formStatus.style.display = 'block';\n\n                // Скрыть сообщение через 6 секунд\n                setTimeout(() => {\n                    gsap.to(formStatus, {\n                        opacity: 0,\n                        duration: 0.5,\n                        onComplete: () => {\n                            formStatus.style.display = 'none';\n                            formStatus.style.opacity = '1';\n                            formStatus.classList.remove('success');\n                        }\n                    });\n                }, 6000);\n            }, 1800);\n        });\n    }\n\n    // --- 8. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAccept = document.getElementById('cookie-accept');\n\n    if (cookiePopup && !localStorage.getItem('octa_cookies_accepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 3000); // Показываем через 3 секунды после загрузки\n    }\n\n    if (cookieAccept) {\n        cookieAccept.addEventListener('click', () => {\n            cookiePopup.classList.remove('active');\n            localStorage.setItem('octa_cookies_accepted', 'true');\n        });\n    }\n\n    // --- 9. ЭФФЕКТ ХЕДЕРА ПРИ СКРОЛЛЕ ---\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 100) {\n            header.style.padding = '5px 0';\n            header.style.background = 'rgba(15, 23, 42, 0.9)';\n        } else {\n            header.style.padding = '0';\n            header.style.background = 'rgba(15, 23, 42, 0.7)';\n        }\n    });\n\n});"],"names":["lenis","raf","time","burger","mobileMenu","mobileLinks","toggleMenu","link","titleElement","text","section","targets","contactForm","phoneInput","captchaLabel","captchaInput","formStatus","captchaAnswer","generateCaptcha","n1","n2","e","submitBtn","originalText","cookiePopup","cookieAccept","header"],"mappings":"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"}